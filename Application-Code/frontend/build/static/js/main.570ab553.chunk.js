(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{62:function(t,e,s){},82:function(t,e,s){},86:function(t,e,s){"use strict";s.r(e);var a=s(0),c=s.n(a),n=s(9),r=s.n(n),i=(s(62),s(36)),l=s(28),o=s.n(l);const d="http://devops.local/api/tasks";var h=s(7);class j extends a.Component{constructor(){super(...arguments),this.state={tasks:[],currentTask:""},this.handleChange=t=>{let{currentTarget:e}=t;this.setState({currentTask:e.value})},this.handleSubmit=async t=>{t.preventDefault();const{currentTask:e,tasks:s}=this.state;var a;if(e.trim())try{const{data:t}=await(a={title:e},o.a.post(d,a));this.setState({tasks:Array.isArray(s)?[...s,t]:[t],currentTask:""})}catch(c){console.error("Add task failed:",c)}},this.handleUpdate=async t=>{const e=Array.isArray(this.state.tasks)?[...this.state.tasks]:[];try{const c=e.findIndex((e=>e._id===t));if(-1===c)return;const n=Object(i.a)(Object(i.a)({},e[c]),{},{completed:!e[c].completed});await(s=t,a={completed:n.completed},o.a.put("".concat(d,"/").concat(s),a)),e[c]=n,this.setState({tasks:e})}catch(c){console.error("Update task failed:",c)}var s,a},this.handleDelete=async t=>{const e=Array.isArray(this.state.tasks)?[...this.state.tasks]:[];try{await(s=t,o.a.delete("".concat(d,"/").concat(s)));const a=e.filter((e=>e._id!==t));this.setState({tasks:a})}catch(a){console.error("Delete task failed:",a)}var s}}async componentDidMount(){try{const t=await o.a.get(d);console.log("Raw response from getTasks:",t);const e=null===t||void 0===t?void 0:t.data;console.log("Extracted data:",e);const s=Array.isArray(e)?e:Array.isArray(null===e||void 0===e?void 0:e.tasks)?e.tasks:[];this.setState({tasks:s})}catch(t){console.error("Error fetching tasks:",t)}}render(){const{tasks:t,currentTask:e}=this.state,s=Array.isArray(t)?t:[];return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Task List"}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)("input",{type:"text",value:e,onChange:this.handleChange,placeholder:"Enter new task"}),Object(h.jsx)("button",{type:"submit",children:"Add Task"})]}),Object(h.jsx)("ul",{children:s.length>0?s.map((t=>Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{style:{textDecoration:t.completed?"line-through":"none",cursor:"pointer"},onClick:()=>this.handleUpdate(t._id),children:t.title}),Object(h.jsx)("button",{onClick:()=>this.handleDelete(t._id),children:"Delete"})]},t._id))):Object(h.jsx)("li",{children:"No tasks available"})})]})}}var k=j,p=s(115),u=s(120),m=s(119),b=s(121);s(82);var x=class extends k{constructor(){super(...arguments),this.state={tasks:[],currentTask:""}}render(){const{tasks:t,currentTask:e}=this.state;return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)("header",{className:"app-header",children:Object(h.jsx)("h1",{children:"My To-Do List"})}),Object(h.jsx)("div",{className:"main-content",children:Object(h.jsxs)(p.a,{elevation:3,className:"todo-container",children:[Object(h.jsxs)("form",{onSubmit:this.handleSubmit,className:"task-form",children:[Object(h.jsx)(u.a,{variant:"outlined",size:"small",className:"task-input",value:e,required:!0,onChange:this.handleChange,placeholder:"Add New TO-DO"}),Object(h.jsx)(m.a,{className:"add-task-btn",color:"primary",variant:"outlined",type:"submit",children:"Add Task"})]}),Object(h.jsx)("div",{className:"tasks-list",children:t.map((t=>Object(h.jsxs)(p.a,{className:"task-item",children:[Object(h.jsx)(b.a,{checked:t.completed,onClick:()=>this.handleUpdate(t._id),color:"primary"}),Object(h.jsx)("div",{className:t.completed?"task-text completed":"task-text",children:t.task}),Object(h.jsx)(m.a,{onClick:()=>this.handleDelete(t._id),color:"secondary",className:"delete-task-btn",children:"Delete"})]},t._id)))})]})})]})}};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)("div",{className:"app-wrapper",children:Object(h.jsx)(x,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.570ab553.chunk.js.map